<!doctype html>
<html lang="{{ .Param "language-code" | default site.LanguageCode }}">
  <head itemscope itemtype="http://schema.org/WebSite">
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>
      {{- if .Param "last" -}}
        Hidden Figure &middot;
        {{ .Title }}
      {{- else -}}
        {{ .Title }}
      {{- end -}}
    </title>

    <!-- Preload fonts -->
    <link
      rel="preload"
      as="font"
      href="/css/fonts/montserrat-v25/montserrat-v25-latin-700.woff2"
      crossorigin
    />
    <link
      rel="preload"
      as="font"
      href="/css/fonts/roboto-slab-v32/roboto-slab-v32-latin-regular.woff2"
      crossorigin
    />
    <link
      rel="preload"
      as="font"
      href="/css/fonts/roboto-slab-v32/roboto-slab-v32-latin-700.woff2"
      crossorigin
    />
    <link
      rel="preload"
      as="font"
      href="/css/fonts/montserrat-v25/montserrat-v25-latin-regular.woff2"
      crossorigin
    />
    {{ if .IsHome }}
      <!-- Preload images for the homepage -->
      <link
        rel="preload"
        href="/img/background/bodyBackground.webp"
        as="image"
      />
      <link
        rel="preload"
        href="/img/background/titleBackground.webp"
        as="image"
      />
    {{ else }}
      <!-- Preload image for other pages -->
      <link
        rel="preload"
        href="/img/background/personBackground.webp"
        as="image"
      />
    {{ end }}

    {{ $cssTW := resources.Get "css/main.css" }}
    {{ $css := $cssTW | css.PostCSS (dict "inlineImports" true) }}
    {{ if not hugo.IsServer }}
      {{ $css = $css | minify | fingerprint | resources.PostProcess }}
    {{ end }}
    <link rel="stylesheet" href="{{ $css.RelPermalink }}" />
    {{ block "extra-head" . }}{{ end }}

    <noscript>
      <style>
        .no-js-show {
          display: block;
        }
        .no-js-hide {
          display: none;
        }
      </style>
    </noscript>
    {{ $shouldMinify := not hugo.IsServer }}
    {{ $jsOpts := dict
      "minify" $shouldMinify
      "targetPath" "/js/main.js"
      "target" "es2020"
      "externals" (slice "/pagefind/*")
    }}
    {{ $js := resources.Get "js/entrypoint/main.js" | js.Build $jsOpts }}
    {{ if $shouldMinify }}
      {{ $js = $js | minify | fingerprint }}
    {{ end }}
    <link rel="modulepreload" href="{{ $js.RelPermalink }}" />

    <link rel="icon" href="/favicon.ico" type="image/png" sizes="any" />
    {{ $icon := site.Param "favicon" | resources.Get | fingerprint }}
    <link
      rel="icon"
      type="{{ $icon.MediaType }}"
      href="{{ $icon.Permalink }}"
    />
    {{ $icon = site.Param "touch-icon" | resources.Get }}
    {{ range $size := slice "180x180" }}
      {{ $iconShrunk := $icon.Fit $size }}
      <link rel="apple-touch-icon" href="{{ $iconShrunk.Permalink }}" />
    {{ end }}

    {{ if .Param "no-index" }}
      <meta name="robots" content="noindex" />
    {{ else }}
      <meta name="robots" content="index,follow" />
      <link href="{{ .Permalink }}" rel="canonical" />
    {{ end }}

    {{ template "_internal/opengraph.html" . }}
    {{ template "_internal/twitter_cards.html" . }}
    {{ template "_internal/schema.html" . }}
    <meta name="description" content="{{ .Description }}" />
    {{ template "_internal/google_analytics.html" . }}
    <style>
      /* Add this to your CSS */
      .popup {
        display: none;
        position: fixed;
        left: 50%;
        top: 50%;
        transform: translate(-50%, -50%);
        border: 1px solid #888;
        background-color: white;
        padding: 20px;
        z-index: 1000;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
      }

      .popup-content {
        position: relative;
      }

      .close {
        position: absolute;
        top: 10px;
        right: 10px;
        font-size: 20px;
        cursor: pointer;
      }
    </style>
  </head>
  {{ $pageCat := printf "%s:%s" (.Section | default .Type) .Kind }}
  {{ if eq .Kind "home" }}{{ $pageCat = "home " }}{{ end }}
  <body
    data-ga-label="{{ $pageCat }}:featured"
    data-ga-category="featured"
    class="bg-gray font-serif text-base leading-normal text-g-9"
  >
    <div
      class="max-w-screen flex min-h-screen flex-col overflow-x-hidden bg-white"
    >
      {{ partialCached "nav.html" . }}
      {{ block "main" . }}
      {{ end }}
      {{ partialCached "footer.html" . }}
    </div>
    {{ partialCached "svg.html" . }}

    <!-- Add this to your HTML -->
    <button id="openPopupBtn">Open Popup</button>

    <!-- <div id="myPopup" class="popup">
      <div class="popup-content">
        <span class="close" id="closePopupBtn">&times;</span>
        <p>This is a popup message!</p>
      </div>
    </div> -->

    <!-- Form for user input -->
    <!-- <form id="userForm" action="/submit" method="POST">
      <label for="name">Name:</label>
      <input type="text" id="name" name="name" required>
      <label for="email">Email:</label>
      <input type="email" id="email" name="email" required>
      <button type="submit">Submit</button>
    </form> -->

    <!-- <script src="{{ $js.RelPermalink }}" type="module"></script>
    <script nomodule>
      document.body.classList.add("has-old-js");
    </script> -->
    <!-- <script>
      // Add this to your JavaScript
      document.addEventListener('DOMContentLoaded', (event) => {
        const openPopupBtn = document.getElementById('openPopupBtn');
        const closePopupBtn = document.getElementById('closePopupBtn');
        const popup = document.getElementById('myPopup');

        openPopupBtn.addEventListener('click', () => {
          popup.style.display = 'block';
        });

        closePopupBtn.addEventListener('click', () => {
          popup.style.display = 'none';
        });

        window.addEventListener('click', (event) => {
          if (event.target === popup) {
            popup.style.display = 'none';
          }
        });
      });
    </script> -->

    <!-- {{ block "extra-footer" . }}{{ end }} -->

      <div id="popup" style="display:none; position: fixed; width: 100%; height: 100%; top: 0; left: 0; right: 0; bottom: 0; background-color: rgba(0,0,0,0.5); z-index: 2;">
      <div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); padding: 20px; background: white;">
        <span class="close" onclick="document.getElementById('popup').style.display='none'">&times;</span>
        <h2>Welcome to our site!</h2>
          <form id="scientistForm">
              <div>
                  <label for="firstName">First Name:</label>
                  <input type="text" id="firstName" name="firstName" required>
              </div>
              <div>
                  <label for="lastName">Last Name:</label>
                  <input type="text" id="lastName" name="lastName" required>
              </div>
              <div>
                  <label for="researchArea">Research Area:</label> 
                   <input type="text" id="researchArea" name="researchArea" required>
              </div>
              <div>
                  <label for="courses">Relevant Courses:</label>
                  <input type="text" id="courses" name="courses" placeholder="List courses separated by commas">
              </div>
              <div>
                  <button type="submit">Submit</button>
                  <button type="button" onclick="document.getElementById('popup').style.display='none'">Close</button>
              </div>
          </form>
          
      </div>
  </div>

  
  <!-- </div> -->
  <!-- <div id="popup" style="display:none; position: fixed; width: 100%; height: 100%; top: 0; left: 0; right: 0; bottom: 0; background-color: rgba(0,0,0,0.5); z-index: 2;">
    <div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); padding: 20px; background: white;">
        Welcome to our site!
        <button onclick="document.getElementById('popup').style.display='none'">Close</button>
    </div>
</div> -->



  <!-- <form id="scientistForm" action="http://localhost:1313/submit" method="POST">
    <input type="text" name="firstName" required>
    <input type="text" name="lastName" required>
    <input type="text" name="researchArea" required>
    <input type="text" name="courses" required>
    <button type="submit">Submit</button>
</form> -->

  <!-- <form id="scientistForm" onsubmit="submitData(); return false;">
    <input type="text" id="firstName" name="firstName" placeholder="First Name" required>
    <input type="text" id="lastName" name="lastName" placeholder="Last Name" required>
    <input type="text" id="researchArea" name="researchArea" placeholder="Research Area" required>
    <input type="text" id="courses" name="courses" placeholder="Relevant Courses" required>
    <button type="submit">Submit</button>
</form> -->

<!-- <script>
  function submitData() {
      const formData = {
          firstName: document.getElementById('firstName').value,
          lastName: document.getElementById('lastName').value,
          researchArea: document.getElementById('researchArea').value,
          courses: document.getElementById('courses').value,
      };
  
      fetch('http://localhost:1313/submit', {
          method: 'POST',
          headers: {
              'Content-Type': 'application/json',
          },
          body: JSON.stringify(formData)
      })
      .then(response => response.json())
      .then(data => alert('Data submitted successfully!'))
      .catch(error => alert('Failed to submit data'));
  }
  </script> -->



  <!-- <script> -->
    // document.addEventListener('DOMContentLoaded', (event) => {
    //     const openPopupBtn = document.getElementById('openPopupBtn');
    //     const closePopupBtn = document.getElementById('closePopupBtn');
    //     const popup = document.getElementById('popup');
    
    //     openPopupBtn.addEventListener('click', () => {
    //         popup.style.display = 'block';
    //     });
    
    //     closePopupBtn.addEventListener('click', () => {
    //         popup.style.display = 'none';
    //     });
    
    //     window.addEventListener('click', (event) => {
    //         if (event.target === popup) {
    //             popup.style.display = 'none';
    //         }
    //     });
    // });

    // document.getElementById('scientistForm').addEventListener('submit', function(event) {
    // event.preventDefault(); // Prevent form from submitting normally
    // var firstName = document.getElementById('firstName').value;
    // var lastName = document.getElementById('lastName').value;
    // var researchArea = document.getElementById('researchArea').value;
    // var courses = document.getElementById('courses').value;

    // alert('Submitted:\n' + firstName + ' ' + lastName + '\nResearch Area: ' + researchArea + '\nCourses: ' + courses);
    // document.getElementById('popup').style.display = 'none'; // Close the popup after submission
// });

     <!-- </script> -->

     <script>
      document.addEventListener('DOMContentLoaded', function() {
          // Immediately show the popup when the page loads
          var popup = document.getElementById('popup');
          popup.style.display = 'block';  // Make sure the popup is visible
      
          // Set up the button to open the popup, in case it's closed
          var openPopupBtn = document.getElementById('openPopupBtn');
          openPopupBtn.addEventListener('click', function() {
              popup.style.display = 'block';
          });
      
          // Set up the close button inside the popup
          var closeBtn = document.querySelector('#popup button');
          closeBtn.addEventListener('click', function() {
              popup.style.display = 'none'; // Hide the popup
          });
      
          // Optional: Close the popup when clicking outside of it
          window.addEventListener('click', function(event) {
              if (event.target == popup) {
                  popup.style.display = 'none';
              }
          });
      });
      </script>
      
    
  </body>
</html>